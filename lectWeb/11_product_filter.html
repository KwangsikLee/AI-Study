<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì˜ˆì œ 11: ìƒí’ˆ í•„í„°ë§ (ìˆ˜ì •ë³¸)</title>
    <style>
        body { font-family: sans-serif; max-width: 900px; margin: auto; }
        #filter-buttons { margin: 20px 0; }
        #filter-buttons button { margin-right: 5px; padding: 10px; cursor: pointer; border: 1px solid #ccc; }
        #product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
        .product-card { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
        .product-card h3 { margin-top: 0; }
        .category { font-style: italic; color: #777; font-size: 0.9em; }
    </style>
</head>
<body>
    <h1>ìƒí’ˆ ëª©ë¡</h1>
    <div id="filter-buttons">
        <button onclick="handleFilterClick('all')">ì „ì²´</button>
        <button onclick="handleFilterClick('electronics')">ì „ìê¸°ê¸°</button>
        <button onclick="handleFilterClick('books')">ë„ì„œ</button>
    </div>
    <div id="product-grid"></div>

    <script>
        // --- ê°€ì§œ ìƒí’ˆ ë°ì´í„° (JSON ë°°ì—´) ---
        const products = [
            { id: 1, name: 'ë…¸íŠ¸ë¶', category: 'electronics', price: 1500000 },
            { id: 2, name: 'ìë°”ìŠ¤í¬ë¦½íŠ¸ ì™„ë²½ ê°€ì´ë“œ', category: 'books', price: 45000 },
            { id: 3, name: 'ìŠ¤ë§ˆíŠ¸í°', category: 'electronics', price: 1200000 },
            { id: 4, name: 'í´ë¦° ì½”ë“œ', category: 'books', price: 32000 },
            { id: 5, name: 'ë¬´ì„  ì´ì–´í°', category: 'electronics', price: 250000 }
        ];
        
        const productGrid = document.getElementById('product-grid');

        // --- API í˜¸ì¶œì„ í‰ë‚´ë‚´ëŠ” í•¨ìˆ˜ ---
        function fetchProducts(category) {
            console.log(`API ìš”ì²­ ì‹œë®¬ë ˆì´ì…˜: /products?category=${category}`);
            return new Promise(resolve => {
                setTimeout(() => {
                    if (category === 'all') {
                        resolve(products);
                    } else {
                        const filteredProducts = products.filter(p => p.category === category);
                        resolve(filteredProducts);
                    }
                }, 100);
            });
        }
        
        // --- ìƒí’ˆ ë°ì´í„°ë¥¼ í™”ë©´ì— ë Œë”ë§í•˜ëŠ” í•¨ìˆ˜ ---
        function renderProducts(productList) {
            productGrid.innerHTML = '';
            productList.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <h3>${product.name}</h3>
                    <p class="category">${product.category}</p>
                    <p>ê°€ê²©: ${product.price.toLocaleString()}ì›</p>
                `;
                productGrid.appendChild(card);
            });
        }
        
        // ğŸŸ¢ ì¶”ê°€ëœ ë¶€ë¶„ 2: ë²„íŠ¼ í´ë¦­ì„ ì²˜ë¦¬í•˜ëŠ” í•¸ë“¤ëŸ¬ í•¨ìˆ˜ ---
        // ì´ í•¨ìˆ˜ê°€ fetchì™€ renderë¥¼ ì—°ê²°í•´ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
        async function handleFilterClick(category) {
            const filteredProducts = await fetchProducts(category); // fetchProductsê°€ ì™„ë£Œë˜ê¸¸ ê¸°ë‹¤ë ¸ë‹¤ê°€
            renderProducts(filteredProducts);                      // ê·¸ ê²°ê³¼ë¡œ í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë¦½ë‹ˆë‹¤.
        }

        // ì´ˆê¸° ë¡œë“œ: ëª¨ë“  ìƒí’ˆì„ ë³´ì—¬ì¤Œ
        handleFilterClick('all');
    </script>
</body>
</html>